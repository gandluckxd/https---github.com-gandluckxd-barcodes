# üì¶ –°–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∏–∑–¥–µ–ª–∏–π

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤—ã—Ö –∏–∑–¥–µ–ª–∏–π (–æ–∫–æ–Ω, —Å—Ç–µ–∫–ª–æ–ø–∞–∫–µ—Ç–æ–≤, —Å—ç–Ω–¥–≤–∏—á–µ–π) –ø–æ —à—Ç—Ä–∏—Ö–∫–æ–¥—É.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:

### 1. API –°–µ—Ä–≤–µ—Ä (FastAPI)
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Python 3, FastAPI, Firebird 2.5, fdb
- **–ü–æ—Ä—Ç:** 8015
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ —à—Ç—Ä–∏—Ö–∫–æ–¥–æ–≤, —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### 2. –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (PyQt5)
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Python 3, PyQt5, pyttsx3
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —à—Ç—Ä–∏—Ö–∫–æ–¥–æ–≤

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è API

```bash
cd api
venv\Scripts\activate
pip install -r requirements.txt
```

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞

```bash
cd client
venv\Scripts\activate
pip install -r requirements.txt
```

## üöÄ –ó–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ bat-—Ñ–∞–π–ª—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ API —Å–µ—Ä–≤–µ—Ä: `api/start_api.bat`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `client/start_client.bat`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é

**API –°–µ—Ä–≤–µ—Ä:**
```bash
cd api
venv\Scripts\activate
python main.py
```

**–ö–ª–∏–µ–Ω—Ç:**
```bash
cd client
venv\Scripts\activate
python main.py
```

## üìã –§–æ—Ä–º–∞—Ç —à—Ç—Ä–∏—Ö–∫–æ–¥–∞

`[–Ω–æ–º–µ—Ä –∏–∑–¥–µ–ª–∏—è][grordersdetailid]`

- **–ü–µ—Ä–≤–∞—è —Ü–∏—Ñ—Ä–∞** - –Ω–æ–º–µ—Ä –∏–∑–¥–µ–ª–∏—è (1, 2, 3... –µ—Å–ª–∏ qty > 1)
- **–û—Å—Ç–∞–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã** - GRORDERSDETAILID

**–ü—Ä–∏–º–µ—Ä:** `1109565`
- `1` - –ø–µ—Ä–≤–æ–µ –∏–∑–¥–µ–ª–∏–µ
- `109565` - GRORDERSDETAILID –∏–∑ —Ç–∞–±–ª–∏—Ü—ã GRORDERSDETAIL

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã:
- **GRORDERSDETAIL** - –¥–µ—Ç–∞–ª–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –∑–∞–∫–∞–∑–æ–≤ (—Å–æ–¥–µ—Ä–∂–∏—Ç GRORDERSDETAILID –∏ ORDERITEMSID)
- **ORDERITEMS** - —ç–ª–µ–º–µ–Ω—Ç—ã –∑–∞–∫–∞–∑–∞ (–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è: —Å—Ç–µ–∫–ª–æ–ø–∞–∫–µ—Ç—ã, —Å—Ç–µ–∫–ª–∞, —Å—ç–Ω–¥–≤–∏—á–∏)
- **ORDERS** - –∑–∞–∫–∞–∑—ã
- **CT_ELEMENTS** - —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–≥—Ä—É–∑–∫–∏
- **CT_WHDETAIL** - –¥–µ—Ç–∞–ª–∏ —Å–∫–ª–∞–¥—Å–∫–æ–≥–æ —É—á–µ—Ç–∞ (–∑–¥–µ—Å—å –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏–µ)

### –ü–æ–ª—è –ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏—è –≤ CT_WHDETAIL:
- `ISAPPROVED` = 1 (–ø—Ä–∏–∑–Ω–∞–∫ –ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏—è)
- `DATEAPPROVED` = —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞/–≤—Ä–µ–º—è

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### API:
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —à—Ç—Ä–∏—Ö–∫–æ–¥–æ–≤
- ‚úÖ –ü–æ–∏—Å–∫ –∏–∑–¥–µ–ª–∏–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### –ö–ª–∏–µ–Ω—Ç:
- ‚úÖ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —à—Ç—Ä–∏—Ö–∫–æ–¥–æ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏ —Ä—É—á–Ω–æ–π –≤–≤–æ–¥)
- ‚úÖ –ì–æ–ª–æ—Å–æ–≤–æ–µ –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API

## üìä –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. –í FastReport —Å–æ–∑–¥–∞–π—Ç–µ —à—Ç—Ä–∏—Ö–∫–æ–¥ (Code128):
   - –î–ª—è –ø–µ—Ä–≤–æ–≥–æ –∏–∑–¥–µ–ª–∏—è –∑–∞–∫–∞–∑–∞ —Å GRORDERSDETAILID=109565: `1109565`
   - –î–ª—è –≤—Ç–æ—Ä–æ–≥–æ –∏–∑–¥–µ–ª–∏—è: `2109565`

2. –†–∞—Å–ø–µ—á–∞—Ç–∞–π—Ç–µ —à—Ç—Ä–∏—Ö–∫–æ–¥—ã –Ω–∞ –Ω–∞–∫–ª–µ–π–∫–∏

3. –ù–∞–∫–ª–µ–π—Ç–µ –Ω–∞ –≥–æ—Ç–æ–≤—ã–µ –∏–∑–¥–µ–ª–∏—è

4. –í —Ü–µ—Ö—É —à—Ç–∞–ø–∏–∫–æ–≤–∫–∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ —à—Ç—Ä–∏—Ö–∫–æ–¥

5. –ü—Ä–æ–≥—Ä–∞–º–º–∞:
   - –ù–∞–π–¥–µ—Ç –∏–∑–¥–µ–ª–∏–µ –≤ –±–∞–∑–µ
   - –ü—Ä–æ—Å—Ç–∞–≤–∏—Ç –ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏–µ
   - –û–∑–≤—É—á–∏—Ç: "–ò–∑–¥–µ–ª–∏–µ –Ω–æ–º–µ—Ä 1 –∑–∞–∫–∞–∑–∞ 19561 –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ 02 –≥–æ—Ç–æ–≤–æ"

## üîä –ì–æ–ª–æ—Å–æ–≤–æ–µ –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ–∑–≤—É—á–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–±—ã—Ç–∏—è:
- ‚úÖ –£—Å–ø–µ—à–Ω–æ–µ –ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏–µ: "–ò–∑–¥–µ–ª–∏–µ –Ω–æ–º–µ—Ä X –∑–∞–∫–∞–∑–∞ Y –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ Z –≥–æ—Ç–æ–≤–æ"
- ‚ö†Ô∏è –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: "–ò–∑–¥–µ–ª–∏–µ —É–∂–µ –±—ã–ª–æ –æ—Ç–º–µ—á–µ–Ω–æ –≥–æ—Ç–æ–≤—ã–º"
- ‚ùå –û—à–∏–±–∫–∞: "–ò–∑–¥–µ–ª–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö"

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### API (api/.env):
```env
DB_HOST=10.8.0.3
DB_PORT=3050
DB_DATABASE=D:/altAwinDB/ppk.gdb
DB_USER=sysdba
DB_PASSWORD=masterkey
API_PORT=8015
```

### –ö–ª–∏–µ–Ω—Ç (client/config.py):
```python
API_BASE_URL = "http://localhost:8015"
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend:
- FastAPI 0.104.1
- fdb 2.0.2 (Firebird driver)
- Pydantic 2.5.0
- Uvicorn 0.24.0

### Frontend:
- PyQt5 5.15.10
- Requests 2.31.0
- pyttsx3 2.90 (Text-to-Speech)

## üìù API Endpoints

### `GET /`
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ API –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

### `POST /api/process-barcode`
–û–±—Ä–∞–±–æ—Ç–∫–∞ —à—Ç—Ä–∏—Ö–∫–æ–¥–∞ –∏ –ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏–µ –∏–∑–¥–µ–ª–∏—è

**Request:**
```json
{
  "barcode": "1109565"
}
```

**Response:**
```json
{
  "success": true,
  "message": "–ò–∑–¥–µ–ª–∏–µ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–æ",
  "voice_message": "–ò–∑–¥–µ–ª–∏–µ –Ω–æ–º–µ—Ä 1 –∑–∞–∫–∞–∑–∞ 19561 –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ 02 –≥–æ—Ç–æ–≤–æ",
  "product_info": {
    "order_number": "19561",
    "construction_number": "02",
    "item_number": 1,
    "orderitems_id": 137660,
    "qty": 1
  }
}
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Firebird
2. –†–∞–±–æ—Ç—É API —Å–µ—Ä–≤–µ—Ä–∞ (–∑–µ–ª–µ–Ω—ã–π —Å—Ç–∞—Ç—É—Å –≤ –∫–ª–∏–µ–Ω—Ç–µ)
3. –§–æ—Ä–º–∞—Ç —à—Ç—Ä–∏—Ö–∫–æ–¥–∞
4. –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ API —Å–µ—Ä–≤–µ—Ä–∞

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

